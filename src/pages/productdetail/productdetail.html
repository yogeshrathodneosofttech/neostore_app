<!--
  Generated template for the Productdetail page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{ this.productDetails.name }}</ion-title>
    <div class="search">
			<i class="fa fa-search" aria-hidden="true"></i>
		</div>
  </ion-navbar>

</ion-header>


<ion-content padding>

	<div class="product-intro clearfix">
		<h2>
			{{ this.productDetails.name }}
		</h2>
		<h3>
			Category - {{ productCategory }}
		</h3>
		<h4>
			{{ this.productDetails.producer }}
			<rating
				[(ngModel)]="starsCounts"
				[float]="true"
				fullIcon="★"
				emptyIcon="★"
				[readonly]="true" >
			</rating>
		</h4>
	</div>

	<div class="product-detail clearfix">
		<p class="price">Rs. {{ productDetails.cost.toLocaleString() }}</p>
		<span class="share-icon"><i class="fa fa-share-alt" aria-hidden="true"></i></span>
		<div class="product-img">
			<img src="{{ activeImage }}">
		</div>
		<div class="image-slider">
			<div class="image" *ngFor="let item of productImages; let i = index;" [class.active]="activeImageClass == i" (click)="replaceMainImage($event, item, i )">
				<img src="{{ item }}">
			</div>
		</div>
		<div class="description">
			<h5>description</h5>
			<p>
				{{ productDetails.description }}
			</p>
		</div>
	</div>

	<div class="buttons-container clearfix">
		<button class="buy-button" (click)="buyPopUp = true">Buy Now</button>
		<button class="rate-button" (click)="ratingPopUp = true">Rate</button>
	</div>

	<div class="buy-popup" *ngIf="buyPopUp" (click)="buyPopUp = false">
		<div class="content" (click)="hidePopUp($event)">
			<h2>
				{{ productDetails.name }}
			</h2>
			<div class="product-img">
				<img src="{{ activeImage }}">
			</div>
			<div class="quantity">
				<div>
					<label>
						Enter Qty (Max. 9)
					</label>
				</div>
				<input type="number" name="quantity" value="" autofocus="autofocus" #productQuantity>
			</div>
			<div class="buy-button" (click)="buyItem(productQuantity.value)">
				<button class="buy-button">Submit</button>
			</div>
		</div>
	</div>

	<div class="rating-popup" *ngIf="ratingPopUp" (click)="ratingPopUp = false">
		<div class="content" (click)="hidePopUp($event)">
			<h2>
				{{ productDetails.name }}
			</h2>
			<div class="product-img">
				<img src="{{ activeImage }}">
			</div>
			<div class="ratings">
				<rating
					[(ngModel)]="starsCounts"
					[float]="true"
					fullIcon="★"
					emptyIcon="★" >
				</rating>
			</div>
			<div class="rate-button" (click)="postRating()">
				<button class="buy-button">Rate Now</button>
			</div>
		</div>
	</div>


</ion-content>
