<!--
  Generated template for the Cart page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

	<ion-navbar>
		<button ion-button menuToggle>
			<ion-icon name="menu" class="ico-moon ico-menu"></ion-icon>
		</button>
		<ion-title>My Cart</ion-title>
		<div class="search">
			<i class="fa fa-search" aria-hidden="true"></i>
		</div>
	</ion-navbar>

</ion-header>


<ion-content padding>

	<div class="cart-items" *ngIf="cartItems.length != 0">
		<ion-list>
			<ion-item-sliding *ngFor="let item of cartItems">
				<ion-item>
					<div class="product-image">
						<img src="{{ item.product.product_images }}">
					</div>
					<div class="product-info">
						<h2>{{ item.product.name }}</h2>
						<h3>({{ item.product.product_category }})</h3>
						<div class="quantity">
							<div class="select">
								<select  [(ngModel)]="item.quantity" (change)="updateCart(item)">
									<option *ngFor="let quantityItem of quantity">{{ quantityItem }}</option>
								</select>
								<span class="ico-moon icon-down"></span>
							</div>
							<div class="price">
								<span class="ico-moon icon-price"></span>
								<span class="price">{{ item.product.cost.toLocaleString() }}</span>
								<span class="price">x</span>
								<span class="price">{{ item.quantity }}</span>
								<span class="price">=</span>
								<span class="price"><span class="ico-moon icon-price"></span>{{ (item.product.cost * item.quantity).toLocaleString() }}</span>
							</div>
						</div>
					</div>
				</ion-item>
				<ion-item-options side="right" class="">
					<div class="deletecart" (click)="removeFromCart(item)">
						<span class="ico-moon icon-delete"></span>
					</div>
				</ion-item-options>
			</ion-item-sliding>
				<ion-item class="total">
					<div>Total</div>
					<div *ngIf="cartTotal" class="float-right"><span class="ico-moon icon-price"></span> {{ cartTotal.toLocaleString() }}</div>
				</ion-item>
		</ion-list>

		<div class="order-btn" (click)="placeOrder()">
			<span>Order Now</span>
		</div>
	</div>

	<div class="no-items-in-cart" *ngIf="cartItems.length == 0">
		<h2>
			Your cart is empty!!
		</h2>
	</div>

</ion-content>
